import{j as m}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.Cd_vQiNd.js";import{M as W,i as D,u as k,P as H,a as K,b as N,L as U,m as $}from"./proxy.DQ5XLoeL.js";function z(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function A(...e){return o=>{let t=!1;const i=e.map(r=>{const n=z(r,o);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let r=0;r<i.length;r++){const n=i[r];typeof n=="function"?n():z(e[r],null)}}}}function B(...e){return s.useCallback(A(...e),e)}class F extends s.Component{getSnapshotBeforeUpdate(o){const t=this.props.childRef.current;if(t&&o.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=D(i)&&i.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G({children:e,isPresent:o,anchorX:t,root:i}){const r=s.useId(),n=s.useRef(null),h=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=s.useContext(W),E=B(n,e?.ref);return s.useInsertionEffect(()=>{const{width:c,height:g,top:f,left:a,right:d}=h.current;if(o||!n.current||!c||!g)return;const x=t==="left"?`left: ${a}`:`right: ${d}`;n.current.dataset.motionPopId=r;const u=document.createElement("style");y&&(u.nonce=y);const j=i??document.head;return j.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${g}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{j.contains(u)&&j.removeChild(u)}},[o]),m.jsx(F,{isPresent:o,childRef:n,sizeRef:h,children:s.cloneElement(e,{ref:E})})}const V=({children:e,initial:o,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:n,mode:h,anchorX:y,root:E})=>{const c=k(X),g=s.useId();let f=!0,a=s.useMemo(()=>(f=!1,{id:g,initial:o,isPresent:t,custom:r,onExitComplete:d=>{c.set(d,!0);for(const x of c.values())if(!x)return;i&&i()},register:d=>(c.set(d,!1),()=>c.delete(d))}),[t,c,i]);return n&&f&&(a={...a}),s.useMemo(()=>{c.forEach((d,x)=>c.set(x,!1))},[t]),s.useEffect(()=>{!t&&!c.size&&i&&i()},[t]),h==="popLayout"&&(e=m.jsx(G,{isPresent:t,anchorX:y,root:E,children:e})),m.jsx(H.Provider,{value:a,children:e})};function X(){return new Map}const w=e=>e.key||"";function b(e){const o=[];return s.Children.forEach(e,t=>{s.isValidElement(t)&&o.push(t)}),o}const _=({children:e,custom:o,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:n="sync",propagate:h=!1,anchorX:y="left",root:E})=>{const[c,g]=K(h),f=s.useMemo(()=>b(e),[e]),a=h&&!c?[]:f.map(w),d=s.useRef(!0),x=s.useRef(f),u=k(()=>new Map),[j,I]=s.useState(f),[C,v]=s.useState(f);N(()=>{d.current=!1,x.current=f;for(let p=0;p<C.length;p++){const l=w(C[p]);a.includes(l)?u.delete(l):u.get(l)!==!0&&u.set(l,!1)}},[C,a.length,a.join("-")]);const P=[];if(f!==j){let p=[...f];for(let l=0;l<C.length;l++){const R=C[l],M=w(R);a.includes(M)||(p.splice(l,0,R),P.push(R))}return n==="wait"&&P.length&&(p=P),v(b(p)),I(f),null}const{forceRender:S}=s.useContext(U);return m.jsx(m.Fragment,{children:C.map(p=>{const l=w(p),R=h&&!c?!1:f===C||a.includes(l),M=()=>{if(u.has(l))u.set(l,!0);else return;let L=!0;u.forEach(T=>{T||(L=!1)}),L&&(S?.(),v(x.current),h&&g?.(),i&&i())};return m.jsx(V,{isPresent:R,initial:!d.current||t?void 0:!1,custom:o,presenceAffectsLayout:r,mode:n,root:E,onExitComplete:R?void 0:M,anchorX:y,children:p},l)})})};function Q(){const[e,o]=s.useState(!0);return s.useEffect(()=>{const t=setTimeout(()=>o(!1),1100);return()=>clearTimeout(t)},[]),m.jsx(_,{children:e&&m.jsx($.div,{initial:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-950 flex items-center justify-center z-[9999]",children:m.jsx($.div,{initial:{scale:.7,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"text-3xl font-bold",children:"Cargandoâ€¦"})})})}export{Q as default};
